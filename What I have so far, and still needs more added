import subprocess
import os.path

def Powerhouse():
    file = ("C:\\Users\\(user)\\(location)\\(file)")  # <- You would need to change this file path, if youd like to use this.
    b = os.path.isfile(file)
    while b == True:
        os.remove(file)
        break
    b = os.path.isfile(file)
    #All that this does, is create a new file within python, and deletes the old one as requested.

    if b == False:
        file1 = open(file, "tx")
        pimple = ("Where-Object {$_.EventID -eq 4625}")
        process = subprocess.Popen(["powershell.exe", "-noprofile", "-command",
                                    r"""
                                    exit (
                                        Start-Process powershell.exe -Verb RunAs -Args '
                                            -noprofile -command Get-EventLog -Log Security | Where-Object {$_.EventID -eq 4625} | Format-List; exit
                                            '
                                        ).ExitCode
                                        """
                                    ], stdout=subprocess.PIPE)
        #The above spawns a new process and go through the above events logs to get the events needed.

        #The below still needs workings on it
        print(process.stdout)
        result = process.communicate()[0]
        print(result.decode('utf-8'))
        a = (result.decode('utf-8'))
        file1.write(a)
        file1.close()
